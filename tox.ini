[tox]
skipsdist = true
envlist = py35,py36,py37

[testenv]
deps =
    -rrequirements.txt

setenv =
    PYTHONPATH = {toxinidir}
    PYTHONWARNINGS = module::DeprecationWarning
    DJANGO_SETTINGS_MODULE = peering_manager.settings
passenv = *

commands =
    cp peering_manager/configuration.example.py peering_manager/configuration.py
    coverage run --source=netbox,peering,peeringdb,peering_manager,utils manage.py test

[testenv:black]
deps = black

basepython = python3.6
commands =
    black --check netbox peering peering_manager peeringdb
